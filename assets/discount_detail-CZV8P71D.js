import{c as a,a as t,t as r,b as u,o as d,p as h,g as m,_ as p,m as b,q as v}from"./index-D0of5O4M.js";const l=o=>(h("data-v-b8afa9c9"),o=o(),m(),o),g={class:"latestDiscount other_page",id:"latestDiscount"},f={key:0,class:"container"},j={class:"main_section"},y={class:"container"},k={class:"breadcrumb_content"},w=l(()=>t("a",{href:"javascript: void(0)"},"首頁",-1)),C=[w],I=l(()=>t("a",{href:"javascript: void(0)"},"即時優惠",-1)),x=[I],L={class:"row"},S={class:"col-md-12"},D={class:"page_title"},N={class:"detail_div"},A={class:"left"},P={class:"img_container"},R=["src"],B={class:"right"},U=["innerHTML"];function $(o,e,i,_,s,n){return d(),a("div",g,[s.discount_obj?(d(),a("div",f,[t("div",j,[t("div",y,[t("div",k,[t("ul",null,[t("li",{onClick:e[0]||(e[0]=c=>n.goto("home"))},C),t("li",{onClick:e[1]||(e[1]=c=>n.goto("latestDiscount"))},x),t("li",null,r(s.discount_obj.title),1)])]),t("div",L,[t("div",S,[t("h2",D,r(s.discount_obj.title),1),t("div",N,[t("div",A,[t("div",P,[t("img",{src:n.getImagePath(s.discount_obj.img)},null,8,R)])]),t("div",B,[t("div",{class:"desc",innerHTML:n.transformURL(s.discount_obj.desc)},null,8,U)])]),t("button",{class:"buyNow button btn btn-primary",type:"button",onClick:e[2]||(e[2]=c=>n.buyNow(s.discount_obj))},"馬上搶購")])])])])])):u("",!0)])}const q=o=>{try{let e=location.href.includes("bed_develop")?"/bed_develop/":"";const i=o.replace("@","../.."+e);return new URL(i,import.meta.url).href}catch(e){console.warn(e)}},H={name:"latestDiscount",data(){return{discount_obj:null}},computed:{...b(["clickShowCart","showCartAside","cart_items"])},methods:{...v(["toggleCart","countItem","removeItem","validateAmount","changeCartItemAmount","emptyCart"]),getImagePath(o){return q(`@/${o}`)},transformURL(o){const e=/https?:\/\/[^\s]+/g,i=/(\b04[-]?\d{3}[\d-]?\d{4}\b)/g;return o.replace(e,function(s){return`<a href="${s}" target="_blank" style="color: #30526b; text-decoration: underline;">${s}</a>`}).replace(i,s=>`<a href="tel: ${s.replace(/04-/,"+886-4-")}"  target="_blank" style="color: #30526b; text-decoration: underline;">${s}</a>`)},buyNow(o){},goto(o,e=null){this.$router.push({name:o,hash:e})}},mounted(){history.state.discount_obj?this.discount_obj=JSON.parse(history.state.discount_obj):this.$router.push({name:"latestDiscount"})}},T=p(H,[["render",$],["__scopeId","data-v-b8afa9c9"]]);export{T as default};
